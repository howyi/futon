type Workspace @model {
  id: ID!
  accessToken: String!
  scope: String!
  botUserId: String!
  botAccessToken: String!
  cache: AWSJSON
  events: [Event!]! @connection(name: "WorkspaceEvents", keyField: "workspaceId")
  ranks: [Rank!]! @connection(name: "WorkspaceRanks", keyField: "workspaceId"),
}

type Event @model {
  id: ID!
  workspace: Workspace! @connection(name: "WorkspaceEvents", keyField: "workspaceId")
  raw: AWSJSON!
}

type Rank @model {
  id: ID!
  workspace: Workspace! @connection(name: "WorkspaceRanks", keyField: "workspaceId")
  emoji: String!
  users: AWSJSON!
}

type Query {
  echo(workspaceId: String): AWSJSON @function(name: "getWorkspaceCache-${env}")
}
